{"version":3,"file":"listbox.mjs","sources":["../../../../../k8-fastbuild-ST-199a4f3c4e20/bin/src/aria/listbox/listbox.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {\n  afterRenderEffect,\n  booleanAttribute,\n  computed,\n  contentChildren,\n  Directive,\n  ElementRef,\n  inject,\n  input,\n  model,\n  signal,\n  untracked,\n} from '@angular/core';\nimport {ComboboxListboxPattern, ListboxPattern, OptionPattern} from '@angular/aria/private';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {toSignal} from '@angular/core/rxjs-interop';\nimport {_IdGenerator} from '@angular/cdk/a11y';\nimport {ComboboxPopup} from '../combobox';\n\n/**\n * Represents a container used to display a list of items for a user to select from.\n *\n * The `ngListbox` is meant to be used in conjunction with `ngOption` directives to create a\n * selectable list. It supports single and multiple selection modes, as well as various focus and\n * orientation strategies.\n *\n * ```html\n * <ul ngListbox [(value)]=\"selectedItems\" [multi]=\"true\" orientation=\"vertical\">\n *   @for (item of items; track item.id) {\n *     <li ngOption [value]=\"item.id\" [label]=\"item.name\" [disabled]=\"item.disabled\">\n *       {{item.name}}\n *     </li>\n *   }\n * </ul>\n * ```\n *\n * @developerPreview 21.0\n */\n@Directive({\n  selector: '[ngListbox]',\n  exportAs: 'ngListbox',\n  host: {\n    'role': 'listbox',\n    '[attr.id]': 'id()',\n    '[attr.tabindex]': '_pattern.tabIndex()',\n    '[attr.aria-readonly]': '_pattern.readonly()',\n    '[attr.aria-disabled]': '_pattern.disabled()',\n    '[attr.aria-orientation]': '_pattern.orientation()',\n    '[attr.aria-multiselectable]': '_pattern.multi()',\n    '[attr.aria-activedescendant]': '_pattern.activeDescendant()',\n    '(keydown)': '_pattern.onKeydown($event)',\n    '(pointerdown)': '_pattern.onPointerdown($event)',\n    '(focusin)': '_onFocus()',\n  },\n  hostDirectives: [ComboboxPopup],\n})\nexport class Listbox<V> {\n  /** A unique identifier for the listbox. */\n  readonly id = input(inject(_IdGenerator).getId('ng-listbox-', true));\n\n  /** A reference to the parent combobox popup, if one exists. */\n  private readonly _popup = inject<ComboboxPopup<V>>(ComboboxPopup, {\n    optional: true,\n  });\n\n  /** A reference to the host element. */\n  private readonly _elementRef = inject(ElementRef);\n\n  /** A reference to the host element. */\n  readonly element = this._elementRef.nativeElement as HTMLElement;\n\n  /** The directionality (LTR / RTL) context for the application (or a subtree of it). */\n  private readonly _directionality = inject(Directionality);\n\n  /** The Options nested inside of the Listbox. */\n  private readonly _options = contentChildren(Option, {descendants: true});\n\n  /** A signal wrapper for directionality. */\n  protected textDirection = toSignal(this._directionality.change, {\n    initialValue: this._directionality.value,\n  });\n\n  /** The Option UIPatterns of the child Options. */\n  protected items = computed(() => this._options().map(option => option._pattern));\n\n  /** Whether the list is vertically or horizontally oriented. */\n  orientation = input<'vertical' | 'horizontal'>('vertical');\n\n  /** Whether multiple items in the list can be selected at once. */\n  multi = input(false, {transform: booleanAttribute});\n\n  /** Whether focus should wrap when navigating. */\n  wrap = input(true, {transform: booleanAttribute});\n\n  /**\n   * Whether to allow disabled items to receive focus. When `true`, disabled items are\n   * focusable but not interactive. When `false`, disabled items are skipped during navigation.\n   */\n  softDisabled = input(true, {transform: booleanAttribute});\n\n  /**\n   * The focus strategy used by the list.\n   * - `roving`: Focus is moved to the active item using `tabindex`.\n   * - `activedescendant`: Focus remains on the listbox container, and `aria-activedescendant` is used to indicate the active item.\n   */\n  focusMode = input<'roving' | 'activedescendant'>('roving');\n\n  /**\n   * The selection strategy used by the list.\n   * - `follow`: The focused item is automatically selected.\n   * - `explicit`: Items are selected explicitly by the user (e.g., via click or spacebar).\n   */\n  selectionMode = input<'follow' | 'explicit'>('follow');\n\n  /** The amount of time before the typeahead search is reset. */\n  typeaheadDelay = input<number>(500); // Picked arbitrarily.\n\n  /** Whether the listbox is disabled. */\n  disabled = input(false, {transform: booleanAttribute});\n\n  /** Whether the listbox is readonly. */\n  readonly = input(false, {transform: booleanAttribute});\n\n  /** The values of the currently selected items. */\n  values = model<V[]>([]);\n\n  /** The Listbox UIPattern. */\n  readonly _pattern: ListboxPattern<V>;\n\n  /** Whether the listbox has received focus yet. */\n  private _hasFocused = signal(false);\n\n  constructor() {\n    const inputs = {\n      ...this,\n      id: this.id,\n      items: this.items,\n      activeItem: signal(undefined),\n      textDirection: this.textDirection,\n      element: () => this._elementRef.nativeElement,\n      combobox: () => this._popup?.combobox?._pattern,\n    };\n\n    this._pattern = this._popup?.combobox\n      ? new ComboboxListboxPattern<V>(inputs)\n      : new ListboxPattern<V>(inputs);\n\n    if (this._popup) {\n      this._popup._controls.set(this._pattern as ComboboxListboxPattern<V>);\n    }\n\n    afterRenderEffect(() => {\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        const violations = this._pattern.validate();\n        for (const violation of violations) {\n          console.error(violation);\n        }\n      }\n    });\n\n    afterRenderEffect(() => {\n      if (!this._hasFocused()) {\n        this._pattern.setDefaultState();\n      }\n    });\n\n    // Ensure that if the active item is removed from\n    // the list, the listbox updates it's focus state.\n    afterRenderEffect(() => {\n      const items = inputs.items();\n      const activeItem = untracked(() => inputs.activeItem());\n\n      if (!items.some(i => i === activeItem) && activeItem) {\n        this._pattern.listBehavior.unfocus();\n      }\n    });\n\n    // Ensure that the values are always in sync with the available options.\n    afterRenderEffect(() => {\n      const items = inputs.items();\n      const values = untracked(() => this.values());\n\n      if (items && values.some(v => !items.some(i => i.value() === v))) {\n        this.values.set(values.filter(v => items.some(i => i.value() === v)));\n      }\n    });\n  }\n\n  _onFocus() {\n    this._hasFocused.set(true);\n  }\n\n  scrollActiveItemIntoView(options: ScrollIntoViewOptions = {block: 'nearest'}) {\n    this._pattern.inputs.activeItem()?.element()?.scrollIntoView(options);\n  }\n\n  /** Navigates to the first item in the listbox. */\n  gotoFirst() {\n    this._pattern.listBehavior.first();\n  }\n}\n\n/**\n * A selectable option in an `ngListbox`.\n *\n * This directive should be applied to an element (e.g., `<li>`, `<div>`) within an\n * `ngListbox`. The `value` input is used to identify the option, and the `label` input provides\n * the accessible name for the option.\n *\n * ```html\n * <li ngOption value=\"item-id\" label=\"Item Name\">\n *   Item Name\n * </li>\n * ```\n *\n * @developerPreview 21.0\n */\n@Directive({\n  selector: '[ngOption]',\n  exportAs: 'ngOption',\n  host: {\n    'role': 'option',\n    '[attr.data-active]': 'active()',\n    '[attr.id]': '_pattern.id()',\n    '[attr.tabindex]': '_pattern.tabIndex()',\n    '[attr.aria-selected]': '_pattern.selected()',\n    '[attr.aria-disabled]': '_pattern.disabled()',\n  },\n})\nexport class Option<V> {\n  /** A reference to the host element. */\n  private readonly _elementRef = inject(ElementRef);\n\n  /** A reference to the host element. */\n  readonly element = this._elementRef.nativeElement as HTMLElement;\n\n  /** Whether the option is currently active (focused). */\n  active = computed(() => this._pattern.active());\n\n  /** The parent Listbox. */\n  private readonly _listbox = inject(Listbox);\n\n  /** A unique identifier for the option. */\n  readonly id = input(inject(_IdGenerator).getId('ng-option-', true));\n\n  // TODO(wagnermaciel): See if we want to change how we handle this since textContent is not\n  // reactive. See https://github.com/angular/components/pull/30495#discussion_r1961260216.\n  /** The text used by the typeahead search. */\n  protected searchTerm = computed(() => this.label() ?? this.element.textContent);\n\n  /** The parent Listbox UIPattern. */\n  private readonly _listboxPattern = computed(() => this._listbox._pattern);\n\n  /** The value of the option. */\n  value = input.required<V>();\n\n  /** Whether an item is disabled. */\n  disabled = input(false, {transform: booleanAttribute});\n\n  /** The text used by the typeahead search. */\n  label = input<string>();\n\n  /** Whether the option is selected. */\n  readonly selected = computed(() => this._pattern.selected());\n\n  /** The Option UIPattern. */\n  readonly _pattern = new OptionPattern<V>({\n    ...this,\n    id: this.id,\n    value: this.value,\n    listbox: this._listboxPattern,\n    element: () => this.element,\n    searchTerm: () => this.searchTerm() ?? '',\n  });\n}\n"],"names":["Listbox","id","input","inject","_IdGenerator","getId","_popup","ComboboxPopup","optional","_elementRef","ElementRef","element","nativeElement","_directionality","Directionality","_options","contentChildren","Option","descendants","textDirection","toSignal","change","initialValue","value","items","computed","map","option","_pattern","ngDevMode","debugName","orientation","multi","transform","booleanAttribute","wrap","softDisabled","focusMode","selectionMode","typeaheadDelay","disabled","readonly","values","model","_hasFocused","signal","constructor","inputs","activeItem","undefined","combobox","ComboboxListboxPattern","ListboxPattern","_controls","set","afterRenderEffect","violations","validate","violation","console","error","setDefaultState","untracked","some","i","listBehavior","unfocus","v","filter","_onFocus","scrollActiveItemIntoView","options","block","scrollIntoView","gotoFirst","first","deps","target","i0","ɵɵFactoryTarget","Directive","ɵdir","ɵɵngDeclareDirective","minVersion","version","type","isSignal","exportAs","hostDirectives","directive","i1","ngImport","decorators","args","selector","host","ctorParameters","propDecorators","Input","alias","required","ContentChildren","forwardRef","Output","active","_listbox","searchTerm","label","textContent","_listboxPattern","selected","OptionPattern","listbox","isStandalone","classPropertyName","publicName","isRequired","transformFunction","attributes","properties"],"mappings":"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"}