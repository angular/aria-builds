{"version":3,"file":"tree.mjs","sources":["../../../../../k8-fastbuild-ST-199a4f3c4e20/bin/src/aria/tree/tree.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {\n  Directive,\n  ElementRef,\n  afterRenderEffect,\n  booleanAttribute,\n  computed,\n  inject,\n  input,\n  model,\n  signal,\n  Signal,\n  OnInit,\n  OnDestroy,\n  untracked,\n  afterNextRender,\n} from '@angular/core';\nimport {_IdGenerator} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {\n  ComboboxTreePattern,\n  TreeItemPattern,\n  TreePattern,\n  DeferredContent,\n  DeferredContentAware,\n} from '@angular/aria/private';\nimport {ComboboxPopup} from '../combobox';\n\ninterface HasElement {\n  element: Signal<HTMLElement>;\n}\n\n/**\n * Sort directives by their document order.\n */\nfunction sortDirectives(a: HasElement, b: HasElement) {\n  return (a.element().compareDocumentPosition(b.element()) & Node.DOCUMENT_POSITION_PRECEDING) > 0\n    ? 1\n    : -1;\n}\n\n/**\n * A Tree container.\n *\n * Transforms nested lists into an accessible, ARIA-compliant tree structure.\n *\n * ```html\n * <ul ngTree [(value)]=\"selectedItems\" [multi]=\"true\">\n *   <li ngTreeItem [value]=\"'leaf1'\">Leaf Item 1</li>\n *   <li ngTreeItem [value]=\"'parent1'\">\n *     Parent Item 1\n *     <ul ngTreeItemGroup [value]=\"'parent1'\">\n *       <ng-template ngTreeItemGroupContent>\n *         <li ngTreeItem [value]=\"'child1.1'\">Child Item 1.1</li>\n *         <li ngTreeItem [value]=\"'child1.2'\">Child Item 1.2</li>\n *       </ng-template>\n *     </ul>\n *   </li>\n *   <li ngTreeItem [value]=\"'leaf2'\" [disabled]=\"true\">Disabled Leaf Item 2</li>\n * </ul>\n * ```\n */\n@Directive({\n  selector: '[ngTree]',\n  exportAs: 'ngTree',\n  host: {\n    'class': 'ng-tree',\n    'role': 'tree',\n    '[attr.id]': 'id()',\n    '[attr.aria-orientation]': '_pattern.orientation()',\n    '[attr.aria-multiselectable]': '_pattern.multi()',\n    '[attr.aria-disabled]': '_pattern.disabled()',\n    '[attr.aria-activedescendant]': '_pattern.activedescendant()',\n    '[tabindex]': '_pattern.tabindex()',\n    '(keydown)': '_pattern.onKeydown($event)',\n    '(pointerdown)': '_pattern.onPointerdown($event)',\n    '(focusin)': 'onFocus()',\n  },\n  hostDirectives: [{directive: ComboboxPopup}],\n})\nexport class Tree<V> {\n  /** A unique identifier for the tree. */\n  private readonly _generatedId = inject(_IdGenerator).getId('ng-tree-', true);\n\n  // TODO(wagnermaciel): https://github.com/angular/components/pull/30495#discussion_r1972601144.\n  /** A unique identifier for the tree. */\n  protected id = computed(() => this._generatedId);\n\n  /** A reference to the parent combobox popup, if one exists. */\n  private readonly _popup = inject<ComboboxPopup<V>>(ComboboxPopup, {\n    optional: true,\n  });\n\n  /** A reference to the tree element. */\n  private readonly _elementRef = inject(ElementRef);\n\n  /** All TreeItem instances within this tree. */\n  private readonly _unorderedItems = signal(new Set<TreeItem<V>>());\n\n  /** Orientation of the tree. */\n  readonly orientation = input<'vertical' | 'horizontal'>('vertical');\n\n  /** Whether multi-selection is allowed. */\n  readonly multi = input(false, {transform: booleanAttribute});\n\n  /** Whether the tree is disabled. */\n  readonly disabled = input(false, {transform: booleanAttribute});\n\n  /** The selection strategy used by the tree. */\n  readonly selectionMode = input<'explicit' | 'follow'>('explicit');\n\n  /** The focus strategy used by the tree. */\n  readonly focusMode = input<'roving' | 'activedescendant'>('roving');\n\n  /** Whether navigation wraps. */\n  readonly wrap = input(true, {transform: booleanAttribute});\n\n  /** Whether to allow disabled items to receive focus. */\n  readonly softDisabled = input(true, {transform: booleanAttribute});\n\n  /** Typeahead delay. */\n  readonly typeaheadDelay = input(0.5);\n\n  /** Selected item values. */\n  readonly value = model<V[]>([]);\n\n  /** Text direction. */\n  readonly textDirection = inject(Directionality).valueSignal;\n\n  /** Whether the tree is in navigation mode. */\n  readonly nav = input(false);\n\n  /** The aria-current type. */\n  readonly currentType = input<'page' | 'step' | 'location' | 'date' | 'time' | 'true' | 'false'>(\n    'page',\n  );\n\n  /** The UI pattern for the tree. */\n  readonly _pattern: TreePattern<V>;\n\n  /** Whether the tree has received focus yet. */\n  private _hasFocused = signal(false);\n\n  constructor() {\n    const inputs = {\n      ...this,\n      id: this.id,\n      allItems: computed(() =>\n        [...this._unorderedItems()].sort(sortDirectives).map(item => item._pattern),\n      ),\n      activeItem: signal<TreeItemPattern<V> | undefined>(undefined),\n      element: () => this._elementRef.nativeElement,\n      combobox: () => this._popup?.combobox?._pattern,\n    };\n\n    this._pattern = this._popup?.combobox\n      ? new ComboboxTreePattern<V>(inputs)\n      : new TreePattern<V>(inputs);\n\n    if (this._popup?.combobox) {\n      this._popup?.controls?.set(this._pattern as ComboboxTreePattern<V>);\n    }\n\n    afterRenderEffect(() => {\n      if (!this._hasFocused()) {\n        this._pattern.setDefaultState();\n      }\n    });\n\n    afterRenderEffect(() => {\n      const items = inputs.allItems();\n      const activeItem = untracked(() => inputs.activeItem());\n\n      if (!items.some(i => i === activeItem) && activeItem) {\n        this._pattern.listBehavior.unfocus();\n      }\n    });\n\n    afterRenderEffect(() => {\n      const items = inputs.allItems();\n      const value = untracked(() => this.value());\n\n      if (items && value.some(v => !items.some(i => i.value() === v))) {\n        this.value.set(value.filter(v => items.some(i => i.value() === v)));\n      }\n    });\n  }\n\n  onFocus() {\n    this._hasFocused.set(true);\n  }\n\n  register(child: TreeItem<V>) {\n    this._unorderedItems().add(child);\n    this._unorderedItems.set(new Set(this._unorderedItems()));\n  }\n\n  unregister(child: TreeItem<V>) {\n    this._unorderedItems().delete(child);\n    this._unorderedItems.set(new Set(this._unorderedItems()));\n  }\n\n  scrollActiveItemIntoView(options: ScrollIntoViewOptions = {block: 'nearest'}) {\n    this._pattern.inputs.activeItem()?.element().scrollIntoView(options);\n  }\n}\n\n/**\n * A selectable and expandable Tree Item in a Tree.\n */\n@Directive({\n  selector: '[ngTreeItem]',\n  exportAs: 'ngTreeItem',\n  host: {\n    'class': 'ng-treeitem',\n    '[attr.data-active]': '_pattern.active()',\n    'role': 'treeitem',\n    '[id]': '_pattern.id()',\n    '[attr.aria-expanded]': '_pattern.expandable() ? _pattern.expanded() : null',\n    '[attr.aria-selected]': '_pattern.selected()',\n    '[attr.aria-current]': '_pattern.current()',\n    '[attr.aria-disabled]': '_pattern.disabled()',\n    '[attr.aria-level]': '_pattern.level()',\n    '[attr.aria-setsize]': '_pattern.setsize()',\n    '[attr.aria-posinset]': '_pattern.posinset()',\n    '[attr.tabindex]': '_pattern.tabindex()',\n  },\n})\nexport class TreeItem<V> extends DeferredContentAware implements OnInit, OnDestroy, HasElement {\n  /** A reference to the tree item element. */\n  private readonly _elementRef = inject(ElementRef);\n\n  /** A unique identifier for the tree item. */\n  private readonly _id = inject(_IdGenerator).getId('ng-tree-item-', true);\n\n  /** The owned tree item group. */\n  private readonly _group = signal<TreeItemGroup<V> | undefined>(undefined);\n\n  /** The host native element. */\n  readonly element = computed(() => this._elementRef.nativeElement);\n\n  /** The value of the tree item. */\n  readonly value = input.required<V>();\n\n  /** The parent tree root or tree item group. */\n  readonly parent = input.required<Tree<V> | TreeItemGroup<V>>();\n\n  /** Whether the tree item is disabled. */\n  readonly disabled = input(false, {transform: booleanAttribute});\n\n  /** Whether the tree item is selectable. */\n  readonly selectable = input<boolean>(true);\n\n  /** Optional label for typeahead. Defaults to the element's textContent. */\n  readonly label = input<string>();\n\n  /** Search term for typeahead. */\n  readonly searchTerm = computed(() => this.label() ?? this.element().textContent);\n\n  /** The tree root. */\n  readonly tree: Signal<Tree<V>> = computed(() => {\n    if (this.parent() instanceof Tree) {\n      return this.parent() as Tree<V>;\n    }\n    return (this.parent() as TreeItemGroup<V>).ownedBy().tree();\n  });\n\n  /** The UI pattern for this item. */\n  _pattern: TreeItemPattern<V>;\n\n  constructor() {\n    super();\n    afterNextRender(() => {\n      if (this.tree()._pattern instanceof ComboboxTreePattern) {\n        this.preserveContent.set(true);\n      }\n    });\n    // Connect the group's hidden state to the DeferredContentAware's visibility.\n    afterRenderEffect(() => {\n      this.tree()._pattern instanceof ComboboxTreePattern\n        ? this.contentVisible.set(true)\n        : this.contentVisible.set(this._pattern.expanded());\n    });\n  }\n\n  ngOnInit() {\n    this.parent().register(this);\n    this.tree().register(this);\n\n    const treePattern = computed(() => this.tree()._pattern);\n    const parentPattern = computed(() => {\n      if (this.parent() instanceof Tree) {\n        return treePattern();\n      }\n      return (this.parent() as TreeItemGroup<V>).ownedBy()._pattern;\n    });\n    this._pattern = new TreeItemPattern<V>({\n      ...this,\n      id: () => this._id,\n      tree: treePattern,\n      parent: parentPattern,\n      children: computed(() => this._group()?.children() ?? []),\n      hasChildren: computed(() => !!this._group()),\n    });\n  }\n\n  ngOnDestroy() {\n    this.parent().unregister(this);\n    this.tree().unregister(this);\n  }\n\n  register(group: TreeItemGroup<V>) {\n    this._group.set(group);\n  }\n\n  unregister() {\n    this._group.set(undefined);\n  }\n}\n\n/**\n * Contains children tree itmes.\n */\n@Directive({\n  selector: 'ng-template[ngTreeItemGroup]',\n  exportAs: 'ngTreeItemGroup',\n  hostDirectives: [DeferredContent],\n})\nexport class TreeItemGroup<V> implements OnInit, OnDestroy {\n  /** The DeferredContent host directive. */\n  private readonly _deferredContent = inject(DeferredContent);\n\n  /** All groupable items that are descendants of the group. */\n  private readonly _unorderedItems = signal(new Set<TreeItem<V>>());\n\n  /** Child items within this group. */\n  readonly children = computed<TreeItemPattern<V>[]>(() =>\n    [...this._unorderedItems()].sort(sortDirectives).map(c => c._pattern),\n  );\n\n  /** Tree item that owns the group. */\n  readonly ownedBy = input.required<TreeItem<V>>();\n\n  ngOnInit() {\n    this._deferredContent.deferredContentAware.set(this.ownedBy());\n    this.ownedBy().register(this);\n  }\n\n  ngOnDestroy() {\n    this.ownedBy().unregister();\n  }\n\n  register(child: TreeItem<V>) {\n    this._unorderedItems().add(child);\n    this._unorderedItems.set(new Set(this._unorderedItems()));\n  }\n\n  unregister(child: TreeItem<V>) {\n    this._unorderedItems().delete(child);\n    this._unorderedItems.set(new Set(this._unorderedItems()));\n  }\n}\n"],"names":["inject","ComboboxPopup","optional","_unorderedItems","signal","Set","ngDevMode","debugName","input","multi","transform","booleanAttribute","disabled","focusMode","wrap","softDisabled","value","model","_pattern","_hasFocused","constructor","inputs","id","allItems","activeItem","undefined","element","_elementRef","nativeElement","combobox","_popup","TreePattern","controls","set","setDefaultState","items","untracked","some","i","listBehavior","unfocus","afterRenderEffect","v","filter","add","child","delete","block","scrollIntoView","options","ɵfac","i0","ɵɵngDeclareFactory","minVersion","version","ngImport","type","Tree","deps","target","ɵɵFactoryTarget","Directive","isStandalone","selector","orientation","classPropertyName","publicName","isSignal","isRequired","transformFunction","selectionMode","typeaheadDelay","nav","currentType","outputs","host","attributes","listeners","properties","classAttribute","exportAs","hostDirectives","directive","i1","args","ctorParameters","DeferredContentAware","_id","_IdGenerator","getId","_group","computed","required","parent","selectable","searchTerm","label","textContent","tree","ownedBy","afterNextRender","ComboboxTreePattern","ngOnInit","register","DeferredContent"],"mappings":"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"}